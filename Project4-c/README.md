## Project 4(c): 基于RFC6962构建Merkle树并构建叶子的存在性和不存在性证明 
### 原理
作为哈希树的一种结构，Merkle树可用于验证大型数据集中的数据的完整性。而RFC6962定义了一种特定类型的Merkle树,本次我们基于这种结构构建一个包含10w叶子节点的Merkle树并通过代码实现其叶子节点的存在性和不存在性的证明。

完成这一任务的具体步骤如下：

1、对原始数据进行统一哈希处理，实现叶子节点的哈希化。

2、若当前层节点数f为奇数，则将最后一个节点复制一份，得到偶数个节点

 即if f≡1(mod2),ℓ𝑛←copy ℓ𝑛
 
3、按顺序把相邻两个节点ℓ2𝑘,ℓ2𝑘+1拼接后再做哈希构成父节点

 即pk=H(ℓ2k∥ℓ2k+1),k=0,1,…
 此时节点总数减半
 
4、迭代至节点数为1，此时节点即为Merkle树的根节点

5、分别选取两个10w内的数值和10w外的数值，由打印出的节点信息进行证明

### 代码思路
由于任务需要用到hash操作，故为了第三方库添加的便捷性，本任务本人使用python完成。

代码中已有基本注释，此处对整体思路进行说明

在载入hashlib库的基础上，tree_build()函数用于构建Merkle树，以叶节点列表作为输入后递归地将叶节点进行哈希操作并按照数学原理生成新的父节点，最终得到树的根节点。此时若叶节点数目为奇数，则复制一个叶节点并添加到列表末尾以确保树的二叉完整性。

doproof()函数用于生成给定叶节点索引的证明。其具体实现为向上遍历Merkle树的路径，记录与当前叶节点相邻的兄弟节点的哈希值，最终生成一个哈希值列表。由列表中的哈希值信息，我们可以判定该叶节点是否存在于树中
### 结果分析
<img width="800" height="313" alt="proof_res1" src="https://github.com/user-attachments/assets/c3b17f9c-01c0-41d5-9737-5be3ba889505" />

<img width="663" height="288" alt="proof_res2" src="https://github.com/user-attachments/assets/ea08f0ee-eed4-4094-b69a-7c8054fec53c" />

<img width="664" height="225" alt="proof_res3" src="https://github.com/user-attachments/assets/69400d12-df16-423a-bfa7-935242c0d326" />
由打印出的信息我们可以看到，7和761节点的非重复行数目恰好为其向上对2取对数的值（3和10），而且其总行数为17,此时有log2(100000)≈17，这表明这两个叶节点均可以逆推出根节点的值，其存在于当前的Merkle树中。

而当节点数大于10w后，其打印出的列表元素个数明显不足，其哈希值必定无法逆推出根节点的信息，这表明其不存在于当下Merkle树中。



